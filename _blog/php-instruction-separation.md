# PHP的结束标签
php的结束标签可以不要。php代码结尾是否加`?>`有一定区别。
加`?>`结尾的：之后的内容视为 纯文本直接输出，直到再次碰到 `<?` 或 `<?php`。
不加`?>`的：之后的内容视为 PHP 代码，除非没有代码了。
下面代码只正常运行的。
```php
<?php
echo 'hello world';

```



但是如果除了php代码，还有html代码，必须要写结束标签。

<!--more-->

例如下面这样的会出错
```php
<?php
echo 'hello world';
<p>hello  world<\p>
```
在不写php结束标签时，默认从开始标签往后都是php代码，如果有其他代码，那就会报错。php只能运行在php标签里面的脚本，在脚本之外的所有字符，包括你看不见的空格或者回车，制表符号，都是作为输出内容会response到客户端的，这样就有可能会产生意想不到的事情。例如文件里面使用了header函数，这个文件同时又包含了另外一个文件，并且被包含的文件的php标签外有空字符，这个时候会报header already send的错误。我们查看一些网页的源代码看到的开头部分有很多空格和换行，就是因为这个原因导致的。

例如下面这样的会出错
```php
<?PHP
//如果 a.php 有结尾，并且后面多一个回车或空格。下面这行一定报错。
include("a.php"); 
session_start()；
?>
```

为了避免这种错误，在编码规范里面经常会规定库文件，或者一些class文件等只有纯php代码的文件是不能加结尾的`?>`结束符的。

不加`?>`结尾还有个好处，如果服务器被病毒感染，病毒会在你的 PHP 文件最后加上 HTML 码。例如：
```html
<img src="有毒连接" />
```

另外不加结束符可以让你避免向浏览器发送一些不必要的字符，因为我们非常有可能在结束符后面不小心打上一些空格或者制表符之类的不可见字符，它们在编辑器中不容易被发现，而最后在php执行的时候，会被作为网页字符发送给浏览器，我们查看一些网页的源代码会发现，他们的开头有很多空格和换行，就是因为这个原因。这不仅向浏览器发送了一些不必要的流量，而且对于某些浏览器而言，如果网页源代码没有以<!DOCTYPE或者其它html开头，可能会引起错位。

因此在纯php文件中不加php结束符是一个好习惯，php结束符仅用于在php与html混写时标示php代码结束。对于纯php文件而言，这个文件结束了，代码就结束了，所以没必要加上结束符。
