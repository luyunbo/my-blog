layout: post
date: 2016/05/27
title: 重构小结
categories: [essay]
tags: [dev]
---

### 动手前要做好准备
做事前一定要对事情（代码）进行充分理解和认知。除非你能永久性逃避，一定不能偷懒，逃避可能需要理解的问题。磨刀不误砍材工。

### 高内聚低耦合
做事需要涉及好流程和章法。根据低耦合高内聚的原则，设计具体的落地步骤，使得过程脉络清晰，更科学严谨的保证正确性，提高效率，也方便回溯修改。

<!--more-->

### 测试驱动开发
开发和测试并不是完全独立的两件事。先开发再测试，这种瀑布式结合，很有可能演变成依赖测试来给自己开发擦屁股惰性思维。擦屁股是需要的，测试可以作为最后的保护屏障，但这不是他存在唯一意义。也可能最后做出毫无意义的测试，并不是真正有效的测试。测试的目的是保证开发的正确性，测试驱动开发，开发前先进行需求分析和测试涉及，开发中采用测试辅助代码开发和功能实现的快速完成，然后又可以在测试的保护的下进行再设计和重构，提高代码质量，在代码基本开发完成时，这些测试自然又可以成为单元测试的一部分。需要通过更多的实践，践行测试驱动开发方法，提高开发的敏捷性。
解决问题需要全局化考虑。不能仅仅解决当前暴露出来问题，需要思考这个问题可能出现其他范围，要全局化的消灭同类问题。全局化思考解决问题，会使你同样的付出带来更多的收益。解决一个问题是这样的付出，解决一百个问题也类似，那这样全局化的批量解决问题，自然效率更高。

### 快速定位与调试问题
善用异常错误信息，这就需要在开发中对异常和错误的处理进行精心的设计。善用调试工具（php中用Xdebug，其他根据情况选用），调试工具提供的调用栈信息和变量信息非常有效。可以在发生错误的信息设置断点，然后根据调用栈回溯。无谓定位发生错误位置，可以先尝试缩小范围，比如在关键入口设置断点，粗略缩小发生问题的区间然后再细调直至定位到问题，不能一上来就简单粗暴的单步调试直到问题位置。

### 摒弃原始落后的思维与方式
善用IDE，使用refactor进行rename，move，copy，delete，更好的保证操作的严谨安全性，尽量做到精准有效查找和替换，IDE提供查找和替换时的预览，可以帮助你观察，正则功能在复杂情况下提高精准度也是利器。善用svn工具，帮助你管理代码版本，保证代码的提交正确，以免落提误删等，方便追溯代码变化以便进行修复bug。摒弃原始落后的思维和方式，需要多思考，多接触，多尝试，尽量让自己不堕落在已有的经验中。


